# ご提案書（補足資料）
## 詳細仕様・技術資料

**提案先**: 株式会社キューテスト 様  
**提案日**: 2026年2月3日  
**提案者**: かたひも代表　松浦　融

---

## 1. 機能ブロックの詳細仕様

### 1-1. データ取り込み機能・通知機能

**【データ取り込み機能】**
キューテスト社向けに以下の取り込み機能を実装します。他社導入時は差し替え可能な設計です。

| 取り込み機能 | 概要 | キューテスト社での利用 |
|-----------|------|----------------------|
| **RESERVA連携** | 顧客情報CSVインポート（UTF-16タブ区切り対応） | ✅ 使用 |
| **Googleカレンダー連携** | 予定取り込み、特定タグ([予約確定][新規][イベント][事務])に対応 | ✅ 使用 |

**【通知機能】**
スマホ通知機能（プッシュ通知）を標準機能として実装します。各スタッフが通知種別ごとに設定可能です。

| 機能 | 概要 | 実装方式 |
|------|------|----------|
| **スマホ通知機能（プッシュ通知）** | 翌日訪問先・日報リマインダー・事故報告アラート | **標準機能** |
| **通知音なし設定** | 通知種別ごとに音あり/なしを個別設定 | **標準機能** |
| **通知ON/OFF設定** | 通知種別ごとに受信ON/OFFを個別設定 | **標準機能** |
| **アプリ内通知** | トップ画面に未読通知を表示 | **標準機能** |

### 1-2. 機能ごとの詳細

#### ログイン機能の基盤 (Auth Module)
現行ツールの認証部分を強化し、全機能で共通利用できるログイン基盤を構築します。
- ログイン方式: メールアドレス + パスワード (Firebase Auth)
- ログイン状態の維持: 7日間自動維持
- パスワードリセット: 標準機能対応

#### データ基盤 (Data Module)
スタッフ・顧客・スケジュール情報を一元管理します。
- スタッフ台帳: 氏名、住所、連絡先、権限等
- 顧客台帳: 顧客情報の一元管理
- スケジュール管理: 訪問予定の管理
- 操作ログ: 操作履歴として保存

#### 移動経路機能 (Route Module)
- **経路自動検索**: Google Maps API連携、毎日18:00-19:00に翌日分を検索
- **スマホ通知**: 検索結果をスタッフへ通知
- **オンライン予約判定**: 「オンライン」を含む予約は移動なしとして処理

#### 出勤簿機能 (Attendance Module)
- **出勤簿自動生成**: スケジュールから自動生成
- **アプリ編集**: 各スタッフがWebアプリ上で始業/終業時刻を修正可能
- **一括エクスポート**: 社労士提出用のCSV/Excel出力

#### 日報機能 (Report Module)
- **AI日報生成**: Gemini APIを活用（社内用/保護者用）
- **事故報告**: ヒヤリハット・事故報告書の作成機能
- **領収書管理**: 画像アップロード対応
- **日付別履歴**: 「今日全員がどんな活動をしたか」を一覧表示

---

## 2. システムの全体構造の詳細

### 機能ブロック設計を支える技術構成

**【画面側プログラム (React 18 + TypeScript)】**
```text
  └─ 機能ごとに部品（コンポーネント）分離
      ├─ @/features/auth/        ... ログイン機能
      ├─ @/features/data/        ... データ管理
      ├─ @/features/route/       ... 移動経路機能
      ├─ @/features/attendance/  ... 出勤簿機能
      └─ @/features/report/      ... 日報機能
```

**【サーバー側プログラム (Firebase Functions)】**
```text
  └─ 機能ごとに独立したプログラム群
      ├─ auth-*       ... ログイン関連機能
      ├─ data-*       ... データ管理機能
      ├─ import-*     ... データ取り込み機能
      ├─ push-*       ... スマホ通知機能（標準機能）
      ├─ export-*     ... エクスポート機能
      ├─ route-*      ... 移動経路検索
      ├─ attendance-* ... 出勤簿自動生成
      └─ report-*     ... 日報生成・保存
```

**【データベース (Cloud Firestore)】**
```text
  └─ 機能ごとにデータ保管箱（コレクション）を分離
      ├─ /users       ... スタッフ情報（共通）
      ├─ /customers   ... 顧客情報（共通）
      ├─ /schedules   ... スケジュール情報（共通）
      ├─ /routes      ... 経路検索結果
      ├─ /attendance  ... 出勤簿データ
      └─ /reports     ... 日報・事故報告
```

---

## 3. 使用する技術・ツールと選定理由

| 技術 | 採用理由・メリット |
|------|-------------------|
| **React 18** | 高速な画面表示、技術者が多く将来の保守も安心 |
| **TypeScript** | バグを防ぐ仕組みがあり、品質の高い開発が可能 |
| **Material-UI** | Google準拠のデザイン、スマホ・PC両対応の画面を効率的に作れる |
| **Firebase** | サーバー管理不要、アクセス集中に強く、使った分だけの支払い |
| **Cloud Firestore** | データが即座に反映され、柔軟なデータ管理が可能 |
| **Gemini API** | Google製AIによる高精度な文章生成（日報作成） |
| **PWA** | アプリストア不要で、スマホアプリのような使い心地を提供、プッシュ通知対応 |

---

## 4. 市場価格との比較詳細

### 一般的なシステム開発会社との比較
一般的なシステム開発会社の場合、間接コスト（営業費、管理費、オフィス代）が30〜50%程度含まれますが、本提案ではこれらを排除し、予算の大部分を直接開発に充当します。

### フリーランスエンジニアとの比較
市場相場（ベテラン技術者：時給1.2万円〜）と比較し、業務知識の保有による学習コスト削減（約170時間相当）を加味すると、本提案は30〜40%割安となる試算です。

### 採用によるコスト削減効果の技術的根拠
- **要件定義**: 業務理解済みのため工数を67%削減
- **業務フロー設計**: 既存理解により工数を75%削減
- **テスト**: 運用フロー理解により工数を50%削減

---

## 5. 事業継続対策詳細

### 30日ルール（連絡途絶時の対応）
万一、開発者と30日以上連絡が取れなくなった場合の対応プロトコルです。
1. **Day 1-7**: 通常連絡（メール・電話）
2. **Day 8-14**: 緊急連絡先への確認
3. **Day 15-29**: 状況確認
4. **Day 30**: 「緊急事態」と判定し、GitHub/Firebaseの管理者権限を用いて貴社が全権を掌握し、他のエンジニアへ引き継ぎ可能な状態にします。

### 成果物の共有体制
常に以下のリソースを最新状態で共有します。
- GitHubリポジトリ（全ソースコード）
- Google Drive（ドキュメント、設計書）
- Firebaseプロジェクト権限（貴社法人カード紐付け済み）

これにより、特定の個人に依存しない持続可能なシステム運用を保証します。
